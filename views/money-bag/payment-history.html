<div data-ng-include src="'views/header-lg.html'"></div>
<div data-ng-include src="'views/header-xs.html'"></div>
<div class="row form-group visible-xs" style="height: 150px;">
  <div class="col-lg-12">
    &nbsp;
  </div>
</div>
<div class="row form-group hidden-xs" style="height: 180px;">
  <div class="col-lg-12">
    &nbsp;
  </div>
</div>
<div class="page-header text-center">
	<span style="font-size: 1.3em; font-weight: bolder;">Payment</span>
</div>
<div class="row form-group">
	<label class="col-md-2">
		ประเภทการชำระ
	</label>
	<div class="col-md-3">
		<select class="form-control" data-ng-model="condition.payment_type">
			<option value="">ทั้งหมด</option>
			<option value="1">ชำระค่าสินค้าบริการ</option>
			<option value="2">ชำระค่าขนส่ง</option>
			<option value="3">โอนเงินไปจีน</option>
			<option value="4">ฝากจ่าย</option>
			<option value="5">นำเข้าสินค้า</option>
			<option value="6">เติมเงิน</option>
		</select>
	</div>
	<div class="col-md-3">
		<button class="btn btn-info" data-ng-click="getPayList()"><i class="fas fa-search"></i></button>
	</div>
	
</div>
<div class="row form-group">
	<div class="col-md-12 table-responsive">
		<table class="table table-striped table-hover table-bordered"> 
			<thead>
				<tr>
					<th class="text-center">วันที่แจ้ง</th>
					<th class="text-center">ประเภทรายการ</th>
					<th class="text-center">วันที่ชำระ</th>
					<!--<th class="text-center">จำนวนเงิน</th>-->
					<th class="text-center">หลักฐาน</th>
					<th class="text-center">สถานะ</th>
				</tr>
			</thead>
			<tbody>
				<tr data-ng-repeat="data in DataList">
					<td class="text-center">{{getThaiDateTimeFromString(data.created_at)}}</td>
					<td>
						<span data-ng-show="data.payment_type == 1">ชำระค่าสินค้าบริการ</span>
						<span data-ng-show="data.payment_type == 2">ชำระค่าขนส่ง</span>
						<span data-ng-show="data.payment_type == 3">โอนเงินไปจีน</span>
						<span data-ng-show="data.payment_type == 4">ฝากจ่าย</span>
						<span data-ng-show="data.payment_type == 5">นำเข้าสินค้า</span>
						<span data-ng-show="data.payment_type == 6">เติมเงิน</span>
					</td>
					<td class="text-center">
						<span data-ng-show="data.payment_type == 6">{{getThaiDateTimeFromString(data.money_topup.topup_date)}}</span>
						<span data-ng-show="data.payment_type != 6">{{getThaiDateTimeFromString(data.money_use.created_at)}}</span>
					</td>
					<!--<td class="text-right">
						<span data-ng-show="data.payment_type == 6">{{(data.money_topup.topup_amount) | number:2 }} THB</span>
						<span data-ng-show="data.payment_type != 6">
							<span data-ng-show="data.money_use.pay_amount_thb != null">{{(data.money_use.pay_amount_thb) | number:2 }} THB<br></span>
							
							<span data-ng-show="data.money_use.pay_amount_yuan != null">{{(data.money_use.pay_amount_yuan) | number:2 }} CNY</span>
						</span>
					</td>-->
					<td class="text-center">
						<span data-ng-show="data.payment_type == 6">
							<a href="{{data.money_topup.slip_file}}" target="_blank"><img src="{{data.money_topup.slip_file}}" style="height: 100px;"></a>
						</span>
						<span data-ng-show="data.payment_type != 6 && data.money_use.pay_status == 2 && data.money_use.slip_path == null">
							<span data-ng-show="data.payment_type == 1">ชำระค่าสินค้าบริการ</span>
							<span data-ng-show="data.payment_type == 2">ชำระค่าขนส่ง</span>
							<span data-ng-show="data.payment_type == 3">โอนเงินไปจีน</span>
							<span data-ng-show="data.payment_type == 4">ฝากจ่าย</span>
							<span data-ng-show="data.payment_type == 5">นำเข้าสินค้า</span> 
							<br>
							<hr style="border: 1px solid #ccc;">
							<span style="color: red;">จำนวน {{(data.money_use.pay_amount_thb) | number:2 }} บาท</span>
						</span>
						<span data-ng-show="data.payment_type != 6 && data.money_use.pay_status == 2 && data.money_use.slip_path != null">
							<a href="{{data.money_use.slip_path}}" target="_blank"><img src="{{data.money_use.slip_path}}" style="height: 100px;"></a>
						</span>
					</td>
					<td class="text-center">
						<label class="label" data-ng-show="data.payment_type == 6" data-ng-class="{'label-warning': data.money_topup.topup_status == 1, 'label-success': data.money_topup.topup_status == 2, 'label-danger': data.money_topup.topup_status == 3}">{{getTopupStatus(data.money_topup.topup_status)}}</label>
						<label class="label" data-ng-show="data.payment_type != 6" data-ng-class="{'label-warning': data.money_use.pay_status == 1, 'label-success': data.money_use.pay_status == 2}">{{getPayStatus(data.money_use.pay_status)}}</label>
					</td>
				</tr>
			</tbody>
		</table>
		<ul class="pull-right" uib-pagination total-items="Pagination.totalPages" ng-model="Pagination.currentPage" max-size="Pagination.limitDisplay" class="pagination-sm" items-per-page="Pagination.limitRowPerPage" boundary-links="true" force-ellipses="true"  ng-change="pageChanged()"></ul>
	</div>
</div>