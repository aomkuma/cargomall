<div data-ng-include src="'views/admin/header-lg.html'"></div>
<div data-ng-include src="'views/admin/header-xs.html'"></div>

<div class="row form-group visible-xs" style="height: 50px;">
  <div class="col-lg-12">
    &nbsp;
  </div>
</div>
<div class="row form-group hidden-xs" style="height: 150px;">
  <div class="col-lg-12">
    &nbsp;
  </div>
</div>
<div class="row" style=" padding: 8px; padding-top:20px;" ng-form="frm">
	<div class="col-md-10 col-md-offset-1">
		<div class="page-header text-center">
			<span style="font-size: 1.3em; font-weight: bolder;">รายการแจ้งปัญหา</span>
		</div>
		<div class="row form-group">
			<div class="col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2">
				<div class="row">
					<label class="col-md-2 col-sm-3 col-xs-12">ค้นหา</label>
					<div class="col-md-3 col-sm-3 col-xs-10">
						<input class="form-control" data-ng-model="condition.keyword" placeholder="รหัสลูกค้า">
					</div>
					<div class="col-md-3 col-sm-3 col-xs-10">
						<select class="form-control" data-ng-model="condition.status">
							<option value="">สถานะทั้งหมด</option>
							<option value="notify">notify</option>
							<option value="close">close</option>
						</select>
					</div>
					<div class="col-md-2 col-sm-2 col-xs-12">
						<button class="btn btn-primary " data-ng-click="getList()"><i class="fas fa-search"></i></button>
						
					</div>
				</div>
			</div>
		</div>
		<div class="row form-group">
			<div class="col-lg-12 table-responsive">
				<table class="table table-striped table-bordered">
					<caption>
					</caption>
					<thead>
						<tr>
							<th class="text-center">ลำดับ</th>
							<th class="text-center">ผู้แจ้ง</th>
							<th class="text-center">วันที่แจ้ง</th>
							<th class="text-center">หัวข้อ</th>
							<th class="text-center">แอดมินผู้ทำรายการ</th>
							<th class="text-center">วันที่ปิดงาน</th>
							<th class="text-center">สถานะการแจ้ง</th>
							<th class="text-center"></th>
						</tr>
					</thead>
					<tr data-ng-repeat="data in DataList">
						<td class="text-center">{{$index + 1}}</td>
						<td class="text-center">{{data.user_code}}</td>
						<td class="text-center">{{ getThaiDateTimeFromString(data.created_at) }}</td>
						<td>{{data.title}}</td>
						<td>{{data.admin.firstname}} {{data.admin.lastname}}</td>
						<td class="text-center">{{ getThaiDateTimeFromString(data.close_datetime) }}</td>
						<td class="text-center">
							<span data-ng-show="data.status == 'notify'" class="label label-warning">{{data.status}}</span>
							<span data-ng-show="data.status == 'close'" class="label label-success">{{data.status}}</span>
						</td>
						
						<td class="text-center">
							<button class="btn btn-primary" data-ng-click="dialogUpdateData(data)"><i class="fas fa-info-circle"></i> รายละเอียด</button>
						</td>
					</tr>
				</table>
			</div>
		</div>
	</div>
	<div class="col-md-10 col-md-offset-1" ng-show="DataList == undefined || DataList == null" style="padding-bottom:300px;">
		&nbsp;
	</div>
</div>

<div data-ng-include src="'views/footer.html'"></div>